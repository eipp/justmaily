(()=>{var e={};e.id=446,e.ids=[446],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},26826:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>r.a,__next_app__:()=>m,originalPathname:()=>o,pages:()=>x,routeModule:()=>p,tree:()=>d}),a(94543),a(72417),a(67164);var t=a(92509),l=a(90231),i=a(25220),r=a.n(i),n=a(2682),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);a.d(s,c);let d=["",{children:["projects",{children:["[id]",{children:["analytics",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,94543)),"/Users/ivanpeychev/Projects/MindburnLabs/justmaily/packages/apps/maily-web/app/projects/[id]/analytics/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,72417)),"/Users/ivanpeychev/Projects/MindburnLabs/justmaily/packages/apps/maily-web/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,67164,23)),"next/dist/client/components/not-found-error"]}],x=["/Users/ivanpeychev/Projects/MindburnLabs/justmaily/packages/apps/maily-web/app/projects/[id]/analytics/page.tsx"],o="/projects/[id]/analytics/page",m={require:a,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/projects/[id]/analytics/page",pathname:"/projects/[id]/analytics",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},92703:(e,s,a)=>{Promise.resolve().then(a.bind(a,45611))},45611:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>u});var t=a(76967),l=a(78270),i=a(80054),r=a(5849),n=a(84611),c=a(72491),d=a(35602),x=a(54206),o=a(16573);let m=(0,o.Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);var p=a(99089);let h=(0,o.Z)("MousePointerClick",[["path",{d:"m9 9 5 12 1.8-5.2L21 14Z",key:"1b76lo"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}]]),j=(0,o.Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);function u({params:e}){let s=(0,i.useRouter)(),{supabase:a,user:o}=useSupabase(),[u,y]=(0,l.useState)(!0),[g,b]=(0,l.useState)(null),[v,f]=(0,l.useState)(null),[N,k]=(0,l.useState)("7d"),w=async()=>{y(!0),b(null);try{let{data:t,error:l}=await a.from("projects").select("owner_id, settings").eq("id",e.id).single();if(l)throw l;if(t.owner_id!==o?.id){s.push("/dashboard");return}if(!t.settings.enableAnalytics){b("Analytics are not enabled for this project"),y(!1);return}let i=await P(e.id,N);f(i)}catch(e){b("Failed to load analytics data")}finally{y(!1)}},P=async(e,s)=>({overview:{totalEmails:15e3,deliveryRate:98.5,openRate:45.2,clickRate:12.8,bounceRate:1.5},engagement:{dailyOpens:[{date:"2024-01-01",count:250},{date:"2024-01-02",count:300}],dailyClicks:[{date:"2024-01-01",count:75},{date:"2024-01-02",count:90}],topLinks:[{url:"https://example.com/product",clicks:450},{url:"https://example.com/pricing",clicks:320}]},deliverability:{bounces:[{type:"hard",count:150},{type:"soft",count:75}],complaints:25,blocks:50},timing:{bestSendTimes:[{hour:9,engagementRate:25.5},{hour:14,engagementRate:22.8}],bestDays:[{day:"Tuesday",engagementRate:24.5},{day:"Wednesday",engagementRate:23.2}]}});return u?t.jsx("div",{className:"flex h-full items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-blue-600 border-t-transparent"}),t.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Loading analytics..."})]})}):g?t.jsx("div",{className:"flex h-full items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("div",{className:"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-red-100 dark:bg-red-900",children:t.jsx(d.Z,{className:"h-6 w-6 text-red-600 dark:text-red-400"})}),t.jsx("p",{className:"mt-2 text-lg font-medium text-gray-900 dark:text-gray-100",children:g})]})}):v?t.jsx("div",{className:"container mx-auto py-8",children:(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Project Analytics"}),t.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Track your project's performance and engagement metrics"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("select",{value:N,onChange:e=>k(e.target.value),className:"rounded-md border border-gray-300 bg-white px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700",children:[t.jsx("option",{value:"7d",children:"Last 7 days"}),t.jsx("option",{value:"30d",children:"Last 30 days"}),t.jsx("option",{value:"90d",children:"Last 90 days"}),t.jsx("option",{value:"1y",children:"Last year"})]}),t.jsx(r.z,{onClick:w,children:"Refresh"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4",children:[(0,t.jsxs)(c.Zb,{children:[(0,t.jsxs)(c.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(c.ll,{className:"text-sm font-medium",children:"Total Emails"}),t.jsx(x.Z,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"})]}),(0,t.jsxs)(c.aY,{children:[t.jsx("div",{className:"text-2xl font-bold",children:v.overview.totalEmails.toLocaleString()}),t.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Sent during selected period"})]})]}),(0,t.jsxs)(c.Zb,{children:[(0,t.jsxs)(c.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(c.ll,{className:"text-sm font-medium",children:"Delivery Rate"}),t.jsx(m,{className:"h-4 w-4 text-green-600"})]}),(0,t.jsxs)(c.aY,{children:[(0,t.jsxs)("div",{className:"text-2xl font-bold",children:[v.overview.deliveryRate,"%"]}),t.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Successfully delivered"})]})]}),(0,t.jsxs)(c.Zb,{children:[(0,t.jsxs)(c.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(c.ll,{className:"text-sm font-medium",children:"Open Rate"}),t.jsx(p.Z,{className:"h-4 w-4 text-blue-600"})]}),(0,t.jsxs)(c.aY,{children:[(0,t.jsxs)("div",{className:"text-2xl font-bold",children:[v.overview.openRate,"%"]}),t.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Of delivered emails"})]})]}),(0,t.jsxs)(c.Zb,{children:[(0,t.jsxs)(c.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(c.ll,{className:"text-sm font-medium",children:"Click Rate"}),t.jsx(h,{className:"h-4 w-4 text-purple-600"})]}),(0,t.jsxs)(c.aY,{children:[(0,t.jsxs)("div",{className:"text-2xl font-bold",children:[v.overview.clickRate,"%"]}),t.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Of opened emails"})]})]})]}),(0,t.jsxs)(n.mQ,{defaultValue:"engagement",className:"space-y-4",children:[(0,t.jsxs)(n.dr,{children:[(0,t.jsxs)(n.SP,{value:"engagement",className:"flex items-center",children:[t.jsx(p.Z,{className:"mr-2 h-4 w-4"}),"Engagement"]}),(0,t.jsxs)(n.SP,{value:"deliverability",className:"flex items-center",children:[t.jsx(x.Z,{className:"mr-2 h-4 w-4"}),"Deliverability"]}),(0,t.jsxs)(n.SP,{value:"timing",className:"flex items-center",children:[t.jsx(j,{className:"mr-2 h-4 w-4"}),"Timing"]})]}),t.jsx(n.nU,{value:"engagement",className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,t.jsxs)(c.Zb,{children:[t.jsx(c.Ol,{children:t.jsx(c.ll,{children:"Daily Opens"})}),t.jsx(c.aY,{children:t.jsx("div",{className:"h-[200px] w-full bg-gray-100 dark:bg-gray-800"})})]}),(0,t.jsxs)(c.Zb,{children:[t.jsx(c.Ol,{children:t.jsx(c.ll,{children:"Daily Clicks"})}),t.jsx(c.aY,{children:t.jsx("div",{className:"h-[200px] w-full bg-gray-100 dark:bg-gray-800"})})]})]})}),t.jsx(n.nU,{value:"deliverability",className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,t.jsxs)(c.Zb,{children:[t.jsx(c.Ol,{children:t.jsx(c.ll,{children:"Bounce Types"})}),t.jsx(c.aY,{children:t.jsx("div",{className:"space-y-4",children:v.deliverability.bounces.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("span",{className:"capitalize",children:[e.type," Bounces"]}),t.jsx("span",{className:"font-medium",children:e.count})]},e.type))})})]}),(0,t.jsxs)(c.Zb,{children:[t.jsx(c.Ol,{children:t.jsx(c.ll,{children:"Delivery Issues"})}),t.jsx(c.aY,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx("span",{children:"Complaints"}),t.jsx("span",{className:"font-medium",children:v.deliverability.complaints})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx("span",{children:"Blocks"}),t.jsx("span",{className:"font-medium",children:v.deliverability.blocks})]})]})})]})]})}),t.jsx(n.nU,{value:"timing",className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,t.jsxs)(c.Zb,{children:[t.jsx(c.Ol,{children:t.jsx(c.ll,{children:"Best Send Times"})}),t.jsx(c.aY,{children:t.jsx("div",{className:"space-y-4",children:v.timing.bestSendTimes.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("span",{children:[e.hour,":00"]}),(0,t.jsxs)("span",{className:"font-medium",children:[e.engagementRate,"% engagement"]})]},e.hour))})})]}),(0,t.jsxs)(c.Zb,{children:[t.jsx(c.Ol,{children:t.jsx(c.ll,{children:"Best Days"})}),t.jsx(c.aY,{children:t.jsx("div",{className:"space-y-4",children:v.timing.bestDays.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx("span",{children:e.day}),(0,t.jsxs)("span",{className:"font-medium",children:[e.engagementRate,"% engagement"]})]},e.day))})})]})]})})]})]})}):null}},94543:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>t});let t=(0,a(99867).createProxy)(String.raw`/Users/ivanpeychev/Projects/MindburnLabs/justmaily/packages/apps/maily-web/app/projects/[id]/analytics/page.tsx#default`)}};var s=require("../../../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[632,305,533,49,666,866,385],()=>a(26826));module.exports=t})();