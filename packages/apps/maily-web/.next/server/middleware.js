(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[826],{67:e=>{"use strict";e.exports=require("node:async_hooks")},195:e=>{"use strict";e.exports=require("node:buffer")},521:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>h});var a={};t.r(a),t.d(a,{config:()=>l,middleware:()=>u}),t(161);var i=t(962),n=t(637),d=t(949);let s=["/auth/signin","/auth/signup","/auth/reset-password","/auth/verify-email"];async function u(e){let r=d.xk.next(),t=(0,n.createMiddlewareClient)({req:e,res:r}),{data:{session:a}}=await t.auth.getSession(),i=s.some(r=>e.nextUrl.pathname.startsWith(r));if(a&&i)return d.xk.redirect(new URL("/dashboard",e.url));if(!a&&!i){let r=new URL("/auth/signin",e.url);return r.searchParams.set("redirect",e.nextUrl.pathname),d.xk.redirect(r)}return r}let l={matcher:["/((?!_next/static|_next/image|favicon.ico|public|api).*)"]},o={...a},c=o.middleware||o.default,f="/middleware";if("function"!=typeof c)throw Error(`The Middleware "${f}" must export a \`middleware\` or a \`default\` function`);function h(e){return(0,i.C)({...e,page:f,handler:c})}}},e=>{var r=r=>e(e.s=r);e.O(0,[348,74,864,517],()=>r(521));var t=e.O();(_ENTRIES="undefined"==typeof _ENTRIES?{}:_ENTRIES).middleware_middleware=t}]);
//# sourceMappingURL=middleware.js.map