(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[248],{57083:function(e,s,a){Promise.resolve().then(a.bind(a,43753))},43753:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return g}});var n=a(4908),i=a(8772),l=a(46007),r=a(84816),t=a(78219),o=a(38078),d=a(12950),c=a(77307),m=a(45919),u=a(46859),h=a(1607),x=a(8275);function g(){let e=(0,l.useRouter)(),{supabase:s,user:a}=useSupabase(),[g,b]=(0,i.useState)(!1),[j,p]=(0,i.useState)(null),[y,v]=(0,i.useState)({name:"",description:"",settings:{enableAI:!0,enableAnalytics:!0,enableCollaboration:!0,defaultLanguage:"en",timezone:"UTC"},integrations:{matrixRoom:"",aiModel:"gpt-4",analyticsProvider:"vespa"}}),f=(e,s,a)=>{s&&a?v(n=>({...n,[s]:{...n[s],[a]:e.target.value}})):v(s=>({...s,[e.target.name]:e.target.value}))},N=e=>{v(s=>({...s,settings:{...s.settings,[e]:!s.settings[e]}}))},w=async n=>{n.preventDefault(),b(!0),p(null);try{let{data:n,error:i}=await s.from("projects").insert([{name:y.name,description:y.description,settings:y.settings,integrations:y.integrations,owner_id:null==a?void 0:a.id}]).select().single();if(i)throw i;y.settings.enableCollaboration&&y.integrations.matrixRoom,y.settings.enableAI,y.settings.enableAnalytics,e.push("/projects/".concat(n.id))}catch(e){p(e.message)}finally{b(!1)}};return(0,n.jsx)("div",{className:"container mx-auto max-w-3xl py-8",children:(0,n.jsxs)("div",{className:"space-y-8",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-3xl font-bold",children:"Create New Project"}),(0,n.jsx)("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Set up a new project with AI-powered features and collaboration tools"})]}),j&&(0,n.jsx)("div",{className:"rounded-md bg-red-50 p-4 dark:bg-red-900/50",children:(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)(m.Z,{className:"h-5 w-5 text-red-400"}),(0,n.jsx)("p",{className:"ml-3 text-sm text-red-800 dark:text-red-200",children:j})]})}),(0,n.jsxs)("form",{onSubmit:w,className:"space-y-8",children:[(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(d._,{htmlFor:"name",children:"Project Name"}),(0,n.jsx)(t.I,{id:"name",name:"name",value:y.name,onChange:f,required:!0,className:"mt-1",placeholder:"My Awesome Project",disabled:g})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(d._,{htmlFor:"description",children:"Description"}),(0,n.jsx)(o.g,{id:"description",name:"description",value:y.description,onChange:f,className:"mt-1",placeholder:"Describe your project...",disabled:g})]})]}),(0,n.jsxs)(c.mQ,{defaultValue:"settings",className:"space-y-4",children:[(0,n.jsxs)(c.dr,{children:[(0,n.jsxs)(c.SP,{value:"settings",className:"flex items-center",children:[(0,n.jsx)(u.Z,{className:"mr-2 h-4 w-4"}),"Settings"]}),(0,n.jsxs)(c.SP,{value:"integrations",className:"flex items-center",children:[(0,n.jsx)(h.Z,{className:"mr-2 h-4 w-4"}),"Integrations"]}),(0,n.jsxs)(c.SP,{value:"analytics",className:"flex items-center",children:[(0,n.jsx)(x.Z,{className:"mr-2 h-4 w-4"}),"Analytics"]})]}),(0,n.jsx)(c.nU,{value:"settings",className:"space-y-4",children:(0,n.jsxs)("div",{className:"rounded-lg border p-4 dark:border-gray-800",children:[(0,n.jsx)("h3",{className:"text-lg font-medium",children:"Project Settings"}),(0,n.jsxs)("div",{className:"mt-4 space-y-4",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)(d._,{htmlFor:"enableAI",children:"Enable AI Features"}),(0,n.jsx)("input",{type:"checkbox",id:"enableAI",checked:y.settings.enableAI,onChange:()=>N("enableAI"),className:"h-4 w-4 rounded border-gray-300",disabled:g})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)(d._,{htmlFor:"enableAnalytics",children:"Enable Analytics"}),(0,n.jsx)("input",{type:"checkbox",id:"enableAnalytics",checked:y.settings.enableAnalytics,onChange:()=>N("enableAnalytics"),className:"h-4 w-4 rounded border-gray-300",disabled:g})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsx)(d._,{htmlFor:"enableCollaboration",children:"Enable Collaboration"}),(0,n.jsx)("input",{type:"checkbox",id:"enableCollaboration",checked:y.settings.enableCollaboration,onChange:()=>N("enableCollaboration"),className:"h-4 w-4 rounded border-gray-300",disabled:g})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(d._,{htmlFor:"defaultLanguage",children:"Default Language"}),(0,n.jsxs)("select",{id:"defaultLanguage",value:y.settings.defaultLanguage,onChange:e=>f(e,"settings","defaultLanguage"),className:"mt-1 block w-full rounded-md border border-gray-300 bg-white px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700",disabled:g,children:[(0,n.jsx)("option",{value:"en",children:"English"}),(0,n.jsx)("option",{value:"es",children:"Spanish"}),(0,n.jsx)("option",{value:"fr",children:"French"}),(0,n.jsx)("option",{value:"de",children:"German"})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(d._,{htmlFor:"timezone",children:"Timezone"}),(0,n.jsxs)("select",{id:"timezone",value:y.settings.timezone,onChange:e=>f(e,"settings","timezone"),className:"mt-1 block w-full rounded-md border border-gray-300 bg-white px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700",disabled:g,children:[(0,n.jsx)("option",{value:"UTC",children:"UTC"}),(0,n.jsx)("option",{value:"America/New_York",children:"Eastern Time"}),(0,n.jsx)("option",{value:"America/Los_Angeles",children:"Pacific Time"}),(0,n.jsx)("option",{value:"Europe/London",children:"London"}),(0,n.jsx)("option",{value:"Europe/Paris",children:"Paris"})]})]})]})]})}),(0,n.jsx)(c.nU,{value:"integrations",className:"space-y-4",children:(0,n.jsxs)("div",{className:"rounded-lg border p-4 dark:border-gray-800",children:[(0,n.jsx)("h3",{className:"text-lg font-medium",children:"Integrations"}),(0,n.jsxs)("div",{className:"mt-4 space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(d._,{htmlFor:"matrixRoom",children:"Matrix Room ID"}),(0,n.jsx)(t.I,{id:"matrixRoom",value:y.integrations.matrixRoom,onChange:e=>f(e,"integrations","matrixRoom"),className:"mt-1",placeholder:"!roomid:matrix.org",disabled:g||!y.settings.enableCollaboration})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(d._,{htmlFor:"aiModel",children:"AI Model"}),(0,n.jsxs)("select",{id:"aiModel",value:y.integrations.aiModel,onChange:e=>f(e,"integrations","aiModel"),className:"mt-1 block w-full rounded-md border border-gray-300 bg-white px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700",disabled:g||!y.settings.enableAI,children:[(0,n.jsx)("option",{value:"gpt-4",children:"GPT-4"}),(0,n.jsx)("option",{value:"gpt-3.5-turbo",children:"GPT-3.5 Turbo"}),(0,n.jsx)("option",{value:"claude-3",children:"Claude 3"})]})]})]})]})}),(0,n.jsx)(c.nU,{value:"analytics",className:"space-y-4",children:(0,n.jsxs)("div",{className:"rounded-lg border p-4 dark:border-gray-800",children:[(0,n.jsx)("h3",{className:"text-lg font-medium",children:"Analytics Configuration"}),(0,n.jsx)("div",{className:"mt-4 space-y-4",children:(0,n.jsxs)("div",{children:[(0,n.jsx)(d._,{htmlFor:"analyticsProvider",children:"Analytics Provider"}),(0,n.jsxs)("select",{id:"analyticsProvider",value:y.integrations.analyticsProvider,onChange:e=>f(e,"integrations","analyticsProvider"),className:"mt-1 block w-full rounded-md border border-gray-300 bg-white px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700",disabled:g||!y.settings.enableAnalytics,children:[(0,n.jsx)("option",{value:"vespa",children:"Vespa"}),(0,n.jsx)("option",{value:"elasticsearch",children:"Elasticsearch"}),(0,n.jsx)("option",{value:"clickhouse",children:"ClickHouse"})]})]})})]})})]}),(0,n.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,n.jsx)(r.z,{type:"button",variant:"outline",onClick:()=>e.back(),disabled:g,children:"Cancel"}),(0,n.jsx)(r.z,{type:"submit",disabled:g,children:g?"Creating Project...":"Create Project"})]})]})]})})}}},function(e){e.O(0,[351,630,905,327,806,329,744],function(){return e(e.s=57083)}),_N_E=e.O()}]);