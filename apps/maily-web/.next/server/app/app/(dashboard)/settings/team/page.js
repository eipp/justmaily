(()=>{var e={};e.id=5239,e.ids=[5239],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4410:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>o}),a(72109),a(88804),a(66597),a(24432),a(32818),a(11506),a(35866);var t=a(23191),r=a(88716),i=a(37922),n=a.n(i),l=a(95231),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);a.d(s,d);let o=["",{children:["app",{children:["(dashboard)",{children:["settings",{children:["team",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,72109)),"/Users/ivanpeychev/Projects/MindburnLabs/justmaily/apps/maily-web/app/app/(dashboard)/settings/team/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,88804)),"/Users/ivanpeychev/Projects/MindburnLabs/justmaily/apps/maily-web/app/app/(dashboard)/settings/layout.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,66597)),"/Users/ivanpeychev/Projects/MindburnLabs/justmaily/apps/maily-web/app/app/layout.tsx"],error:[()=>Promise.resolve().then(a.bind(a,24432)),"/Users/ivanpeychev/Projects/MindburnLabs/justmaily/apps/maily-web/app/app/error.tsx"],"not-found":[()=>Promise.resolve().then(a.bind(a,32818)),"/Users/ivanpeychev/Projects/MindburnLabs/justmaily/apps/maily-web/app/app/not-found.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,11506)),"/Users/ivanpeychev/Projects/MindburnLabs/justmaily/apps/maily-web/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/ivanpeychev/Projects/MindburnLabs/justmaily/apps/maily-web/app/app/(dashboard)/settings/team/page.tsx"],m="/app/(dashboard)/settings/team/page",p={require:a,loadChunk:()=>Promise.resolve()},u=new t.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/app/(dashboard)/settings/team/page",pathname:"/app/settings/team",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},69256:(e,s,a)=>{Promise.resolve().then(a.bind(a,91545))},91545:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>f});var t=a(10326),r=a(7369),i=a(28468),n=a(27256),l=a(97938),d=a(5090),o=a(60878),c=a(7328),m=a(17884),p=a(25569),u=a(85763),h=a(59341),x=a(92865),j=a(8782),b=a(49216),v=a(87311);let g=n.z.object({email:n.z.string().email("Invalid email address"),role:n.z.enum(["admin","member"])}),y=[{accessorKey:"fullName",header:"Name",cell:({row:e})=>{let s=e.original;return(0,t.jsxs)("div",{className:"flex items-center gap-x-3",children:[(0,t.jsxs)(p.qE,{children:[t.jsx(p.F$,{src:s.avatarUrl,alt:s.fullName}),t.jsx(p.Q5,{children:s.fullName.charAt(0).toUpperCase()})]}),(0,t.jsxs)("div",{children:[t.jsx("div",{className:"font-medium",children:s.fullName}),t.jsx("div",{className:"text-sm text-muted-foreground",children:s.email})]})]})}},{accessorKey:"role",header:"Role",cell:({row:e})=>{let s=e.getValue("role");return t.jsx(u.C,{variant:"owner"===s?"default":"admin"===s?"secondary":"outline",children:s})}},{accessorKey:"joinedAt",header:"Joined",cell:({row:e})=>(0,v.Z)(new Date(e.getValue("joinedAt")),{addSuffix:!0})},{accessorKey:"lastActive",header:"Last Active",cell:({row:e})=>(0,v.Z)(new Date(e.getValue("lastActive")),{addSuffix:!0})},{id:"actions",cell:({row:e})=>{let s=e.original;return(0,t.jsxs)(j.h_,{children:[t.jsx(j.$F,{asChild:!0,children:(0,t.jsxs)(o.z,{variant:"ghost",className:"h-8 w-8 p-0",children:[t.jsx("span",{className:"sr-only",children:"Open menu"}),t.jsx(b.Z,{className:"h-4 w-4"})]})}),(0,t.jsxs)(j.AW,{align:"end",children:[t.jsx(j.Ju,{children:"Actions"}),t.jsx(j.Xi,{children:"View profile"}),"owner"!==s.role&&(0,t.jsxs)(t.Fragment,{children:[t.jsx(j.VD,{}),t.jsx(j.Xi,{children:"Change role"}),t.jsx(j.Xi,{className:"text-destructive",children:"Remove member"})]})]})]})}}];function f(){let{data:e,isLoading:s}=(0,r.useQuery)({queryKey:["team-members"],queryFn:()=>h.h.team.listMembers()}),{mutate:a,isLoading:n}=(0,i.useMutation)({mutationFn:e=>h.h.team.invite(e),onSuccess:()=>{(0,x.A)({title:"Success",description:"Invitation has been sent."})},onError:()=>{(0,x.A)({title:"Error",description:"Failed to send invitation.",variant:"destructive"})}});return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"text-lg font-medium",children:"Team Settings"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Manage your team members and their roles."})]}),t.jsx(c.Z,{}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"text-sm font-medium mb-4",children:"Invite Team Member"}),t.jsx(l.l,{schema:g,onSubmit:e=>a(e),defaultValues:{role:"member"},children:e=>(0,t.jsxs)("div",{className:"flex gap-4",children:[t.jsx("div",{className:"flex-1",children:t.jsx(d.I,{placeholder:"Enter email address",error:e.formState.errors.email?.message,...e.register("email")})}),t.jsx(o.z,{type:"submit",disabled:n,loading:n,children:"Send Invite"})]})})]}),(0,t.jsxs)("div",{children:[t.jsx("h4",{className:"text-sm font-medium mb-4",children:"Team Members"}),t.jsx(m.w,{columns:y,data:e?.items||[],isLoading:s})]})]})]})}},72109:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>t});let t=(0,a(68570).createProxy)(String.raw`/Users/ivanpeychev/Projects/MindburnLabs/justmaily/apps/maily-web/app/app/(dashboard)/settings/team/page.tsx#default`)}};var s=require("../../../../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[632,110,781,8057,4991,641,928,688,6865,2385],()=>a(4410));module.exports=t})();