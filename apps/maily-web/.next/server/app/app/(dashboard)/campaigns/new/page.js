(()=>{var e={};e.id=9632,e.ids=[9632],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},47598:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>p,pages:()=>c,routeModule:()=>u,tree:()=>o}),r(50998),r(66597),r(24432),r(32818),r(11506),r(35866);var a=r(23191),t=r(88716),i=r(37922),n=r.n(i),l=r(95231),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);r.d(s,d);let o=["",{children:["app",{children:["(dashboard)",{children:["campaigns",{children:["new",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,50998)),"/Users/ivanpeychev/Projects/MindburnLabs/justmaily/apps/maily-web/app/app/(dashboard)/campaigns/new/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,66597)),"/Users/ivanpeychev/Projects/MindburnLabs/justmaily/apps/maily-web/app/app/layout.tsx"],error:[()=>Promise.resolve().then(r.bind(r,24432)),"/Users/ivanpeychev/Projects/MindburnLabs/justmaily/apps/maily-web/app/app/error.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,32818)),"/Users/ivanpeychev/Projects/MindburnLabs/justmaily/apps/maily-web/app/app/not-found.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,11506)),"/Users/ivanpeychev/Projects/MindburnLabs/justmaily/apps/maily-web/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/ivanpeychev/Projects/MindburnLabs/justmaily/apps/maily-web/app/app/(dashboard)/campaigns/new/page.tsx"],p="/app/(dashboard)/campaigns/new/page",m={require:r,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/app/(dashboard)/campaigns/new/page",pathname:"/app/campaigns/new",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},98537:(e,s,r)=>{Promise.resolve().then(r.bind(r,75581))},75581:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>f});var a=r(10326),t=r(35047),i=r(28468),n=r(27256),l=r(91076),d=r(97938),o=r(60878),c=r(5090);r(17577);let p=e=>a.jsx("select",{...e}),m=e=>a.jsx("button",{...e,children:"Select"}),u=()=>a.jsx("span",{children:"Select value"}),h=({children:e})=>a.jsx("div",{children:e}),x=({children:e})=>a.jsx("div",{children:e});var j=r(99544),g=r(59341),b=r(92865);let v=({value:e="",onChange:s})=>a.jsx("textarea",{value:e,onChange:e=>s&&s(e.target.value),style:{width:"100%",height:"200px",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"0.25rem"}}),y=n.z.object({name:n.z.string().min(1,"Name is required"),subject:n.z.string().min(1,"Subject is required"),fromName:n.z.string().min(1,"From name is required"),fromEmail:n.z.string().email("Invalid email address"),replyTo:n.z.string().email("Invalid email address"),content:n.z.object({html:n.z.string().min(1,"Content is required"),text:n.z.string()}),list:n.z.string().min(1,"List is required"),schedule:n.z.enum(["now","later"]),scheduledFor:n.z.string().optional()});function f(){let e=(0,t.useRouter)(),{mutate:s,isLoading:r}=(0,i.useMutation)({mutationFn:e=>g.h.campaigns.create(e),onSuccess:()=>{(0,b.A)({title:"Success",description:"Campaign has been created."}),e.push("/campaigns")},onError:()=>{(0,b.A)({title:"Error",description:"Failed to create campaign.",variant:"destructive"})}});return a.jsx(l.Z,{children:(0,a.jsxs)("div",{className:"flex-1 space-y-4 p-8 pt-6",children:[a.jsx("div",{className:"flex items-center justify-between space-y-2",children:a.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Create Campaign"})}),a.jsx("div",{className:"space-y-4",children:a.jsx(d.l,{schema:y,onSubmit:e=>s(e),defaultValues:{schedule:"now",content:{html:"",text:""}},children:s=>(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[a.jsx("div",{children:a.jsx(c.I,{label:"Campaign Name",placeholder:"Enter campaign name",error:s.formState.errors.name?.message,...s.register("name")})}),a.jsx("div",{children:a.jsx(c.I,{label:"Subject Line",placeholder:"Enter subject line",error:s.formState.errors.subject?.message,...s.register("subject")})}),a.jsx("div",{children:a.jsx(c.I,{label:"From Name",placeholder:"Enter from name",error:s.formState.errors.fromName?.message,...s.register("fromName")})}),a.jsx("div",{children:a.jsx(c.I,{label:"From Email",placeholder:"Enter from email",error:s.formState.errors.fromEmail?.message,...s.register("fromEmail")})}),a.jsx("div",{children:a.jsx(c.I,{label:"Reply-To Email",placeholder:"Enter reply-to email",error:s.formState.errors.replyTo?.message,...s.register("replyTo")})}),a.jsx("div",{children:(0,a.jsxs)(p,{label:"Subscriber List",error:s.formState.errors.list?.message,onValueChange:e=>s.setValue("list",e),children:[a.jsx(m,{children:a.jsx(u,{placeholder:"Select a list"})}),(0,a.jsxs)(h,{children:[a.jsx(x,{value:"all",children:"All Subscribers"}),a.jsx(x,{value:"active",children:"Active Subscribers"}),a.jsx(x,{value:"inactive",children:"Inactive Subscribers"})]})]})}),a.jsx("div",{children:(0,a.jsxs)(p,{label:"Schedule",onValueChange:e=>s.setValue("schedule",e),defaultValue:"now",children:[a.jsx(m,{children:a.jsx(u,{})}),(0,a.jsxs)(h,{children:[a.jsx(x,{value:"now",children:"Send Now"}),a.jsx(x,{value:"later",children:"Schedule"})]})]})}),"later"===s.watch("schedule")&&a.jsx("div",{children:a.jsx(c.I,{type:"datetime-local",label:"Schedule Date",error:s.formState.errors.scheduledFor?.message,...s.register("scheduledFor")})})]}),a.jsx("div",{className:"space-y-4",children:(0,a.jsxs)(j.Tabs,{defaultValue:"design",children:[(0,a.jsxs)(j.TabsList,{children:[a.jsx(j.TabsTrigger,{value:"design",children:"Design"}),a.jsx(j.TabsTrigger,{value:"code",children:"Code"}),a.jsx(j.TabsTrigger,{value:"preview",children:"Preview"})]}),a.jsx(j.TabsContent,{value:"design",children:a.jsx(v,{value:s.watch("content.html"),onChange:e=>s.setValue("content.html",e)})}),a.jsx(j.TabsContent,{value:"code",children:a.jsx("textarea",{className:"w-full h-[500px] font-mono p-4",value:s.watch("content.html"),onChange:e=>s.setValue("content.html",e.target.value)})}),a.jsx(j.TabsContent,{value:"preview",children:a.jsx("div",{className:"w-full h-[500px] border p-4",dangerouslySetInnerHTML:{__html:s.watch("content.html")}})})]})})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-4",children:[a.jsx(o.z,{variant:"outline",onClick:()=>e.push("/campaigns"),children:"Cancel"}),a.jsx(o.z,{type:"submit",disabled:r,loading:r,children:"Create Campaign"})]})]})})})]})})}},50998:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>a});let a=(0,r(68570).createProxy)(String.raw`/Users/ivanpeychev/Projects/MindburnLabs/justmaily/apps/maily-web/app/app/(dashboard)/campaigns/new/page.tsx#default`)}};var s=require("../../../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),a=s.X(0,[632,110,781,8057,4991,641,928,688,6865,2385],()=>r(47598));module.exports=a})();