(()=>{var e={};e.id=6248,e.ids=[6248],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},55894:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>h,tree:()=>d}),a(43468),a(11506),a(35866);var n=a(23191),r=a(88716),t=a(37922),i=a.n(t),l=a(95231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);a.d(s,o);let d=["",{children:["projects",{children:["new",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,43468)),"/Users/ivanpeychev/Projects/MindburnLabs/justmaily/apps/maily-web/app/projects/new/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,11506)),"/Users/ivanpeychev/Projects/MindburnLabs/justmaily/apps/maily-web/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/ivanpeychev/Projects/MindburnLabs/justmaily/apps/maily-web/app/projects/new/page.tsx"],u="/projects/new/page",m={require:a,loadChunk:()=>Promise.resolve()},h=new n.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/projects/new/page",pathname:"/projects/new",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},80454:(e,s,a)=>{Promise.resolve().then(a.bind(a,84714))},84714:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>p});var n=a(10326),r=a(17577),t=a(35047),i=a(90772),l=a(54432),o=a(43960),d=a(31048),c=a(79210),u=a(37202),m=a(88378),h=a(24061),x=a(76464);function p(){let e=(0,t.useRouter)(),{supabase:s,user:a}=useSupabase(),[p,g]=(0,r.useState)(!1),[b,j]=(0,r.useState)(null),[y,v]=(0,r.useState)({name:"",description:"",settings:{enableAI:!0,enableAnalytics:!0,enableCollaboration:!0,defaultLanguage:"en",timezone:"UTC"},integrations:{matrixRoom:"",aiModel:"gpt-4",analyticsProvider:"vespa"}}),f=(e,s,a)=>{s&&a?v(n=>({...n,[s]:{...n[s],[a]:e.target.value}})):v(s=>({...s,[e.target.name]:e.target.value}))},w=e=>{v(s=>({...s,settings:{...s.settings,[e]:!s.settings[e]}}))},N=async n=>{n.preventDefault(),g(!0),j(null);try{let{data:n,error:r}=await s.from("projects").insert([{name:y.name,description:y.description,settings:y.settings,integrations:y.integrations,owner_id:a?.id}]).select().single();if(r)throw r;y.settings.enableCollaboration&&y.integrations.matrixRoom,y.settings.enableAI,y.settings.enableAnalytics,e.push(`/projects/${n.id}`)}catch(e){j(e.message)}finally{g(!1)}};return n.jsx("div",{className:"container mx-auto max-w-3xl py-8",children:(0,n.jsxs)("div",{className:"space-y-8",children:[(0,n.jsxs)("div",{children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Create New Project"}),n.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Set up a new project with AI-powered features and collaboration tools"})]}),b&&n.jsx("div",{className:"rounded-md bg-red-50 p-4 dark:bg-red-900/50",children:(0,n.jsxs)("div",{className:"flex items-center",children:[n.jsx(u.Z,{className:"h-5 w-5 text-red-400"}),n.jsx("p",{className:"ml-3 text-sm text-red-800 dark:text-red-200",children:b})]})}),(0,n.jsxs)("form",{onSubmit:N,className:"space-y-8",children:[(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("div",{children:[n.jsx(d._,{htmlFor:"name",children:"Project Name"}),n.jsx(l.I,{id:"name",name:"name",value:y.name,onChange:f,required:!0,className:"mt-1",placeholder:"My Awesome Project",disabled:p})]}),(0,n.jsxs)("div",{children:[n.jsx(d._,{htmlFor:"description",children:"Description"}),n.jsx(o.g,{id:"description",name:"description",value:y.description,onChange:f,className:"mt-1",placeholder:"Describe your project...",disabled:p})]})]}),(0,n.jsxs)(c.mQ,{defaultValue:"settings",className:"space-y-4",children:[(0,n.jsxs)(c.dr,{children:[(0,n.jsxs)(c.SP,{value:"settings",className:"flex items-center",children:[n.jsx(m.Z,{className:"mr-2 h-4 w-4"}),"Settings"]}),(0,n.jsxs)(c.SP,{value:"integrations",className:"flex items-center",children:[n.jsx(h.Z,{className:"mr-2 h-4 w-4"}),"Integrations"]}),(0,n.jsxs)(c.SP,{value:"analytics",className:"flex items-center",children:[n.jsx(x.Z,{className:"mr-2 h-4 w-4"}),"Analytics"]})]}),n.jsx(c.nU,{value:"settings",className:"space-y-4",children:(0,n.jsxs)("div",{className:"rounded-lg border p-4 dark:border-gray-800",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Project Settings"}),(0,n.jsxs)("div",{className:"mt-4 space-y-4",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[n.jsx(d._,{htmlFor:"enableAI",children:"Enable AI Features"}),n.jsx("input",{type:"checkbox",id:"enableAI",checked:y.settings.enableAI,onChange:()=>w("enableAI"),className:"h-4 w-4 rounded border-gray-300",disabled:p})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[n.jsx(d._,{htmlFor:"enableAnalytics",children:"Enable Analytics"}),n.jsx("input",{type:"checkbox",id:"enableAnalytics",checked:y.settings.enableAnalytics,onChange:()=>w("enableAnalytics"),className:"h-4 w-4 rounded border-gray-300",disabled:p})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[n.jsx(d._,{htmlFor:"enableCollaboration",children:"Enable Collaboration"}),n.jsx("input",{type:"checkbox",id:"enableCollaboration",checked:y.settings.enableCollaboration,onChange:()=>w("enableCollaboration"),className:"h-4 w-4 rounded border-gray-300",disabled:p})]}),(0,n.jsxs)("div",{children:[n.jsx(d._,{htmlFor:"defaultLanguage",children:"Default Language"}),(0,n.jsxs)("select",{id:"defaultLanguage",value:y.settings.defaultLanguage,onChange:e=>f(e,"settings","defaultLanguage"),className:"mt-1 block w-full rounded-md border border-gray-300 bg-white px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700",disabled:p,children:[n.jsx("option",{value:"en",children:"English"}),n.jsx("option",{value:"es",children:"Spanish"}),n.jsx("option",{value:"fr",children:"French"}),n.jsx("option",{value:"de",children:"German"})]})]}),(0,n.jsxs)("div",{children:[n.jsx(d._,{htmlFor:"timezone",children:"Timezone"}),(0,n.jsxs)("select",{id:"timezone",value:y.settings.timezone,onChange:e=>f(e,"settings","timezone"),className:"mt-1 block w-full rounded-md border border-gray-300 bg-white px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700",disabled:p,children:[n.jsx("option",{value:"UTC",children:"UTC"}),n.jsx("option",{value:"America/New_York",children:"Eastern Time"}),n.jsx("option",{value:"America/Los_Angeles",children:"Pacific Time"}),n.jsx("option",{value:"Europe/London",children:"London"}),n.jsx("option",{value:"Europe/Paris",children:"Paris"})]})]})]})]})}),n.jsx(c.nU,{value:"integrations",className:"space-y-4",children:(0,n.jsxs)("div",{className:"rounded-lg border p-4 dark:border-gray-800",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Integrations"}),(0,n.jsxs)("div",{className:"mt-4 space-y-4",children:[(0,n.jsxs)("div",{children:[n.jsx(d._,{htmlFor:"matrixRoom",children:"Matrix Room ID"}),n.jsx(l.I,{id:"matrixRoom",value:y.integrations.matrixRoom,onChange:e=>f(e,"integrations","matrixRoom"),className:"mt-1",placeholder:"!roomid:matrix.org",disabled:p||!y.settings.enableCollaboration})]}),(0,n.jsxs)("div",{children:[n.jsx(d._,{htmlFor:"aiModel",children:"AI Model"}),(0,n.jsxs)("select",{id:"aiModel",value:y.integrations.aiModel,onChange:e=>f(e,"integrations","aiModel"),className:"mt-1 block w-full rounded-md border border-gray-300 bg-white px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700",disabled:p||!y.settings.enableAI,children:[n.jsx("option",{value:"gpt-4",children:"GPT-4"}),n.jsx("option",{value:"gpt-3.5-turbo",children:"GPT-3.5 Turbo"}),n.jsx("option",{value:"claude-3",children:"Claude 3"})]})]})]})]})}),n.jsx(c.nU,{value:"analytics",className:"space-y-4",children:(0,n.jsxs)("div",{className:"rounded-lg border p-4 dark:border-gray-800",children:[n.jsx("h3",{className:"text-lg font-medium",children:"Analytics Configuration"}),n.jsx("div",{className:"mt-4 space-y-4",children:(0,n.jsxs)("div",{children:[n.jsx(d._,{htmlFor:"analyticsProvider",children:"Analytics Provider"}),(0,n.jsxs)("select",{id:"analyticsProvider",value:y.integrations.analyticsProvider,onChange:e=>f(e,"integrations","analyticsProvider"),className:"mt-1 block w-full rounded-md border border-gray-300 bg-white px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700",disabled:p||!y.settings.enableAnalytics,children:[n.jsx("option",{value:"vespa",children:"Vespa"}),n.jsx("option",{value:"elasticsearch",children:"Elasticsearch"}),n.jsx("option",{value:"clickhouse",children:"ClickHouse"})]})]})})]})})]}),(0,n.jsxs)("div",{className:"flex justify-end space-x-4",children:[n.jsx(i.z,{type:"button",variant:"outline",onClick:()=>e.back(),disabled:p,children:"Cancel"}),n.jsx(i.z,{type:"submit",disabled:p,children:p?"Creating Project...":"Create Project"})]})]})]})})}},43468:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>n});let n=(0,a(68570).createProxy)(String.raw`/Users/ivanpeychev/Projects/MindburnLabs/justmaily/apps/maily-web/app/projects/new/page.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),n=s.X(0,[632,110,781,8057,4991,641,928,688,6865,2385],()=>a(55894));module.exports=n})();