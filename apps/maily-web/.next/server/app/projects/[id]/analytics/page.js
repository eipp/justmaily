(()=>{var e={};e.id=3446,e.ids=[3446],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},16307:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>o,pages:()=>x,routeModule:()=>p,tree:()=>c}),a(78969),a(11506),a(35866);var t=a(23191),r=a(88716),l=a(37922),i=a.n(l),n=a(95231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);a.d(s,d);let c=["",{children:["projects",{children:["[id]",{children:["analytics",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,78969)),"/Users/ivanpeychev/Projects/MindburnLabs/justmaily/apps/maily-web/app/projects/[id]/analytics/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,11506)),"/Users/ivanpeychev/Projects/MindburnLabs/justmaily/apps/maily-web/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"]}],x=["/Users/ivanpeychev/Projects/MindburnLabs/justmaily/apps/maily-web/app/projects/[id]/analytics/page.tsx"],o="/projects/[id]/analytics/page",m={require:a,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/projects/[id]/analytics/page",pathname:"/projects/[id]/analytics",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},72599:(e,s,a)=>{Promise.resolve().then(a.bind(a,1489))},1489:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>u});var t=a(10326),r=a(17577),l=a(35047),i=a(90772),n=a(69920),d=a(33071),c=a(37202),x=a(5932),o=a(76557);let m=(0,o.Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);var p=a(24061),h=a(21066);let j=(0,o.Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);function u({params:e}){let s=(0,l.useRouter)(),{supabase:a,user:o}=useSupabase(),[u,y]=(0,r.useState)(!0),[g,v]=(0,r.useState)(null),[f,b]=(0,r.useState)(null),[N,C]=(0,r.useState)("7d"),w=async()=>{y(!0),v(null);try{let{data:t,error:r}=await a.from("projects").select("owner_id, settings").eq("id",e.id).single();if(r)throw r;if(t.owner_id!==o?.id){s.push("/dashboard");return}if(!t.settings.enableAnalytics){v("Analytics are not enabled for this project"),y(!1);return}let l=await k(e.id,N);b(l)}catch(e){v("Failed to load analytics data")}finally{y(!1)}},k=async(e,s)=>({overview:{totalEmails:15e3,deliveryRate:98.5,openRate:45.2,clickRate:12.8,bounceRate:1.5},engagement:{dailyOpens:[{date:"2024-01-01",count:250},{date:"2024-01-02",count:300}],dailyClicks:[{date:"2024-01-01",count:75},{date:"2024-01-02",count:90}],topLinks:[{url:"https://example.com/product",clicks:450},{url:"https://example.com/pricing",clicks:320}]},deliverability:{bounces:[{type:"hard",count:150},{type:"soft",count:75}],complaints:25,blocks:50},timing:{bestSendTimes:[{hour:9,engagementRate:25.5},{hour:14,engagementRate:22.8}],bestDays:[{day:"Tuesday",engagementRate:24.5},{day:"Wednesday",engagementRate:23.2}]}});return u?t.jsx("div",{className:"flex h-full items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-blue-600 border-t-transparent"}),t.jsx("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Loading analytics..."})]})}):g?t.jsx("div",{className:"flex h-full items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("div",{className:"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-red-100 dark:bg-red-900",children:t.jsx(c.Z,{className:"h-6 w-6 text-red-600 dark:text-red-400"})}),t.jsx("p",{className:"mt-2 text-lg font-medium text-gray-900 dark:text-gray-100",children:g})]})}):f?t.jsx("div",{className:"container mx-auto py-8",children:(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-3xl font-bold",children:"Project Analytics"}),t.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Track your project's performance and engagement metrics"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,t.jsxs)("select",{value:N,onChange:e=>C(e.target.value),className:"rounded-md border border-gray-300 bg-white px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700",children:[t.jsx("option",{value:"7d",children:"Last 7 days"}),t.jsx("option",{value:"30d",children:"Last 30 days"}),t.jsx("option",{value:"90d",children:"Last 90 days"}),t.jsx("option",{value:"1y",children:"Last year"})]}),t.jsx(i.Button,{onClick:w,children:"Refresh"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4",children:[(0,t.jsxs)(d.Card,{children:[(0,t.jsxs)(d.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(d.CardTitle,{className:"text-sm font-medium",children:"Total Emails"}),t.jsx(x.Z,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"})]}),(0,t.jsxs)(d.CardContent,{children:[t.jsx("div",{className:"text-2xl font-bold",children:f.overview.totalEmails.toLocaleString()}),t.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Sent during selected period"})]})]}),(0,t.jsxs)(d.Card,{children:[(0,t.jsxs)(d.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(d.CardTitle,{className:"text-sm font-medium",children:"Delivery Rate"}),t.jsx(m,{className:"h-4 w-4 text-green-600"})]}),(0,t.jsxs)(d.CardContent,{children:[(0,t.jsxs)("div",{className:"text-2xl font-bold",children:[f.overview.deliveryRate,"%"]}),t.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Successfully delivered"})]})]}),(0,t.jsxs)(d.Card,{children:[(0,t.jsxs)(d.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(d.CardTitle,{className:"text-sm font-medium",children:"Open Rate"}),t.jsx(p.Z,{className:"h-4 w-4 text-blue-600"})]}),(0,t.jsxs)(d.CardContent,{children:[(0,t.jsxs)("div",{className:"text-2xl font-bold",children:[f.overview.openRate,"%"]}),t.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Of delivered emails"})]})]}),(0,t.jsxs)(d.Card,{children:[(0,t.jsxs)(d.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(d.CardTitle,{className:"text-sm font-medium",children:"Click Rate"}),t.jsx(h.Z,{className:"h-4 w-4 text-purple-600"})]}),(0,t.jsxs)(d.CardContent,{children:[(0,t.jsxs)("div",{className:"text-2xl font-bold",children:[f.overview.clickRate,"%"]}),t.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Of opened emails"})]})]})]}),(0,t.jsxs)(n.mQ,{defaultValue:"engagement",className:"space-y-4",children:[(0,t.jsxs)(n.dr,{children:[(0,t.jsxs)(n.SP,{value:"engagement",className:"flex items-center",children:[t.jsx(p.Z,{className:"mr-2 h-4 w-4"}),"Engagement"]}),(0,t.jsxs)(n.SP,{value:"deliverability",className:"flex items-center",children:[t.jsx(x.Z,{className:"mr-2 h-4 w-4"}),"Deliverability"]}),(0,t.jsxs)(n.SP,{value:"timing",className:"flex items-center",children:[t.jsx(j,{className:"mr-2 h-4 w-4"}),"Timing"]})]}),t.jsx(n.nU,{value:"engagement",className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,t.jsxs)(d.Card,{children:[t.jsx(d.CardHeader,{children:t.jsx(d.CardTitle,{children:"Daily Opens"})}),t.jsx(d.CardContent,{children:t.jsx("div",{className:"h-[200px] w-full bg-gray-100 dark:bg-gray-800"})})]}),(0,t.jsxs)(d.Card,{children:[t.jsx(d.CardHeader,{children:t.jsx(d.CardTitle,{children:"Daily Clicks"})}),t.jsx(d.CardContent,{children:t.jsx("div",{className:"h-[200px] w-full bg-gray-100 dark:bg-gray-800"})})]})]})}),t.jsx(n.nU,{value:"deliverability",className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,t.jsxs)(d.Card,{children:[t.jsx(d.CardHeader,{children:t.jsx(d.CardTitle,{children:"Bounce Types"})}),t.jsx(d.CardContent,{children:t.jsx("div",{className:"space-y-4",children:f.deliverability.bounces.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("span",{className:"capitalize",children:[e.type," Bounces"]}),t.jsx("span",{className:"font-medium",children:e.count})]},e.type))})})]}),(0,t.jsxs)(d.Card,{children:[t.jsx(d.CardHeader,{children:t.jsx(d.CardTitle,{children:"Delivery Issues"})}),t.jsx(d.CardContent,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx("span",{children:"Complaints"}),t.jsx("span",{className:"font-medium",children:f.deliverability.complaints})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx("span",{children:"Blocks"}),t.jsx("span",{className:"font-medium",children:f.deliverability.blocks})]})]})})]})]})}),t.jsx(n.nU,{value:"timing",className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,t.jsxs)(d.Card,{children:[t.jsx(d.CardHeader,{children:t.jsx(d.CardTitle,{children:"Best Send Times"})}),t.jsx(d.CardContent,{children:t.jsx("div",{className:"space-y-4",children:f.timing.bestSendTimes.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("span",{children:[e.hour,":00"]}),(0,t.jsxs)("span",{className:"font-medium",children:[e.engagementRate,"% engagement"]})]},e.hour))})})]}),(0,t.jsxs)(d.Card,{children:[t.jsx(d.CardHeader,{children:t.jsx(d.CardTitle,{children:"Best Days"})}),t.jsx(d.CardContent,{children:t.jsx("div",{className:"space-y-4",children:f.timing.bestDays.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx("span",{children:e.day}),(0,t.jsxs)("span",{className:"font-medium",children:[e.engagementRate,"% engagement"]})]},e.day))})})]})]})})]})]})}):null}},78969:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>t});let t=(0,a(68570).createProxy)(String.raw`/Users/ivanpeychev/Projects/MindburnLabs/justmaily/apps/maily-web/app/projects/[id]/analytics/page.tsx#default`)}};var s=require("../../../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[632,110,781,8057,4991,641,928,688,6865,2385],()=>a(16307));module.exports=t})();