(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9930],{27090:function(e,s,l){Promise.resolve().then(l.bind(l,49524))},49524:function(e,s,l){"use strict";l.r(s),l.d(s,{default:function(){return v}});var a={};l.r(a);var t=l(57437),c=l(71632),n=l(86158),i=l(14459),r=l(63405),d=l(92553),x=l(44022),o=l(99376);l(2265);var h=l(54506),m=l(95805),u=l(89345),j=l(28921),f=l(17580),N=l(39763);let p=(0,N.Z)("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),g=(0,N.Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),y=[{accessorKey:"name",header:"Name"},{accessorKey:"status",header:"Status"},{accessorKey:"sentAt",header:"Sent",cell:e=>{let{row:s}=e;return(0,h.Z)(new Date(s.original.sentAt),{addSuffix:!0})}},{accessorKey:"openRate",header:"Open Rate",cell:e=>{let{row:s}=e;return"".concat(s.original.openRate,"%")}},{accessorKey:"clickRate",header:"Click Rate",cell:e=>{let{row:s}=e;return"".concat(s.original.clickRate,"%")}}];function v(){let e=(0,o.useRouter)(),{data:s,isLoading:l}=(0,c.useQuery)({queryKey:["dashboard-stats"],queryFn:()=>r.h.analytics.getDashboardStats()}),{data:N,isLoading:v}=(0,c.useQuery)({queryKey:["recent-campaigns"],queryFn:()=>r.h.campaigns.list({limit:5})}),{data:w,isLoading:b}=(0,c.useQuery)({queryKey:["recent-activities"],queryFn:()=>r.h.analytics.getRecentActivities()});return(0,t.jsx)(i.MainLayout,{children:(0,t.jsxs)("div",{className:"flex-1 space-y-4 p-8 pt-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between space-y-2",children:[(0,t.jsx)("h2",{className:"text-3xl font-bold tracking-tight",children:"Dashboard"}),(0,t.jsx)("div",{className:"flex items-center space-x-2",children:(0,t.jsx)(x.z,{onClick:()=>e.push("/campaigns/new"),children:"Create Campaign"})})]}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,t.jsxs)(n.Zb,{children:[(0,t.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(n.ll,{className:"text-sm font-medium",children:"Total Subscribers"}),(0,t.jsx)(m.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsx)(n.aY,{children:l?(0,t.jsx)(a.Skeleton,{className:"h-7 w-20"}):(0,t.jsx)("div",{className:"text-2xl font-bold",children:null==s?void 0:s.totalSubscribers.toLocaleString()})})]}),(0,t.jsxs)(n.Zb,{children:[(0,t.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(n.ll,{className:"text-sm font-medium",children:"Total Campaigns"}),(0,t.jsx)(u.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsx)(n.aY,{children:l?(0,t.jsx)(a.Skeleton,{className:"h-7 w-20"}):(0,t.jsx)("div",{className:"text-2xl font-bold",children:null==s?void 0:s.totalCampaigns.toLocaleString()})})]}),(0,t.jsxs)(n.Zb,{children:[(0,t.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(n.ll,{className:"text-sm font-medium",children:"Average Open Rate"}),(0,t.jsx)(j.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsx)(n.aY,{children:l?(0,t.jsx)(a.Skeleton,{className:"h-7 w-20"}):(0,t.jsxs)("div",{className:"text-2xl font-bold",children:[null==s?void 0:s.averageOpenRate.toFixed(1),"%"]})})]}),(0,t.jsxs)(n.Zb,{children:[(0,t.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(n.ll,{className:"text-sm font-medium",children:"Average Click Rate"}),(0,t.jsx)(f.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsx)(n.aY,{children:l?(0,t.jsx)(a.Skeleton,{className:"h-7 w-20"}):(0,t.jsxs)("div",{className:"text-2xl font-bold",children:[null==s?void 0:s.averageClickRate.toFixed(1),"%"]})})]})]}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-7",children:[(0,t.jsxs)(n.Zb,{className:"col-span-4",children:[(0,t.jsx)(n.Ol,{children:(0,t.jsx)(n.ll,{children:"Recent Campaigns"})}),(0,t.jsx)(n.aY,{children:v?(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(a.Skeleton,{className:"h-10 w-full"}),(0,t.jsx)(a.Skeleton,{className:"h-10 w-full"}),(0,t.jsx)(a.Skeleton,{className:"h-10 w-full"})]}):(0,t.jsx)(d.w,{columns:y,data:(null==N?void 0:N.items)||[]})})]}),(0,t.jsxs)(n.Zb,{className:"col-span-3",children:[(0,t.jsxs)(n.Ol,{children:[(0,t.jsx)(n.ll,{children:"Recent Activity"}),(0,t.jsxs)(n.SZ,{children:["You had ",(null==w?void 0:w.length)||0," activities this month"]})]}),(0,t.jsx)(n.aY,{children:b?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(a.Skeleton,{className:"h-14 w-full"}),(0,t.jsx)(a.Skeleton,{className:"h-14 w-full"}),(0,t.jsx)(a.Skeleton,{className:"h-14 w-full"})]}):(0,t.jsx)("div",{className:"space-y-8",children:null==w?void 0:w.map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"rounded-full p-2 bg-secondary",children:(0,t.jsx)(p,{className:"h-4 w-4"})}),(0,t.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium leading-none",children:e.description}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:(0,h.Z)(new Date(e.timestamp),{addSuffix:!0})})]}),(0,t.jsx)(x.z,{variant:"ghost",size:"icon",children:(0,t.jsx)(g,{className:"h-4 w-4"})})]},e.id))})})]})]})]})})}}},function(e){e.O(0,[632,7842,2385,4714,2943,5148,8487,1523,1744],function(){return e(e.s=27090)}),_N_E=e.O()}]);