(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5239],{58421:function(e,s,i){Promise.resolve().then(i.bind(i,20634))},20634:function(e,s,i){"use strict";i.r(s),i.d(s,{default:function(){return p}});var a=i(57437),r=i(71632),l=i(64250),t=i(31229),n=i(36572),d=i(7107),c=i(44022),m=i(24032),o=i(92553),u=i(65161),h=i(94608),x=i(63405),j=i(99682),v=i(11703),f=i(56266),N=i(54506);let g=t.z.object({email:t.z.string().email("Invalid email address"),role:t.z.enum(["admin","member"])}),b=[{accessorKey:"fullName",header:"Name",cell:e=>{let{row:s}=e,i=s.original;return(0,a.jsxs)("div",{className:"flex items-center gap-x-3",children:[(0,a.jsxs)(u.qE,{children:[(0,a.jsx)(u.F$,{src:i.avatarUrl,alt:i.fullName}),(0,a.jsx)(u.Q5,{children:i.fullName.charAt(0).toUpperCase()})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:i.fullName}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:i.email})]})]})}},{accessorKey:"role",header:"Role",cell:e=>{let{row:s}=e,i=s.getValue("role");return(0,a.jsx)(h.C,{variant:"owner"===i?"default":"admin"===i?"secondary":"outline",children:i})}},{accessorKey:"joinedAt",header:"Joined",cell:e=>{let{row:s}=e;return(0,N.Z)(new Date(s.getValue("joinedAt")),{addSuffix:!0})}},{accessorKey:"lastActive",header:"Last Active",cell:e=>{let{row:s}=e;return(0,N.Z)(new Date(s.getValue("lastActive")),{addSuffix:!0})}},{id:"actions",cell:e=>{let{row:s}=e,i=s.original;return(0,a.jsxs)(v.h_,{children:[(0,a.jsx)(v.$F,{asChild:!0,children:(0,a.jsxs)(c.z,{variant:"ghost",className:"h-8 w-8 p-0",children:[(0,a.jsx)("span",{className:"sr-only",children:"Open menu"}),(0,a.jsx)(f.Z,{className:"h-4 w-4"})]})}),(0,a.jsxs)(v.AW,{align:"end",children:[(0,a.jsx)(v.Ju,{children:"Actions"}),(0,a.jsx)(v.Xi,{children:"View profile"}),"owner"!==i.role&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(v.VD,{}),(0,a.jsx)(v.Xi,{children:"Change role"}),(0,a.jsx)(v.Xi,{className:"text-destructive",children:"Remove member"})]})]})]})}}];function p(){let{data:e,isLoading:s}=(0,r.useQuery)({queryKey:["team-members"],queryFn:()=>x.h.team.listMembers()}),{mutate:i,isLoading:t}=(0,l.useMutation)({mutationFn:e=>x.h.team.invite(e),onSuccess:()=>{(0,j.A)({title:"Success",description:"Invitation has been sent."})},onError:()=>{(0,j.A)({title:"Error",description:"Failed to send invitation.",variant:"destructive"})}});return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-medium",children:"Team Settings"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Manage your team members and their roles."})]}),(0,a.jsx)(m.Z,{}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium mb-4",children:"Invite Team Member"}),(0,a.jsx)(n.l,{schema:g,onSubmit:e=>i(e),defaultValues:{role:"member"},children:e=>{var s;return(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsx)(d.I,{placeholder:"Enter email address",error:null===(s=e.formState.errors.email)||void 0===s?void 0:s.message,...e.register("email")})}),(0,a.jsx)(c.z,{type:"submit",disabled:t,loading:t,children:"Send Invite"})]})}})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium mb-4",children:"Team Members"}),(0,a.jsx)(o.w,{columns:b,data:(null==e?void 0:e.items)||[],isLoading:s})]})]})]})}}},function(e){e.O(0,[632,7842,2385,4714,2943,5148,8487,1523,1744],function(){return e(e.s=58421)}),_N_E=e.O()}]);