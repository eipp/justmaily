(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8159],{26513:function(e,s,t){Promise.resolve().then(t.bind(t,2264))},2264:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return j}});var a=t(57437),l=t(71632),r=t(63405),i=t(86158),n=t(24032),c=t(92553),d=t(70371),o=t(17580),u=t(69430),x=t(95805),m=t(28921),h=t(94608),b=t(54506);let g=[{accessorKey:"email",header:"Email",cell:e=>{let{row:s}=e,t=s.original;return(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:t.email}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Joined ",(0,b.Z)(new Date(t.subscribedAt),{addSuffix:!0})]})]})}},{accessorKey:"status",header:"Status",cell:e=>{let{row:s}=e,t=s.getValue("status");return(0,a.jsx)(h.C,{variant:"active"===t?"default":"inactive"===t?"secondary":"bounced"===t?"destructive":"outline",children:t})}},{accessorKey:"engagementScore",header:"Engagement",cell:e=>{let{row:s}=e,t=s.getValue("engagementScore"),l="".concat(t.toFixed(1));return(0,a.jsxs)("div",{className:"flex items-center gap-x-2",children:[l,t>7?(0,a.jsx)(o.Z,{className:"h-4 w-4 text-green-500"}):(0,a.jsx)(u.Z,{className:"h-4 w-4 text-red-500"})]})}},{accessorKey:"openRate",header:"Open Rate",cell:e=>{let{row:s}=e,t=s.getValue("openRate"),l="".concat(t.toFixed(1),"%");return(0,a.jsxs)("div",{className:"flex items-center gap-x-2",children:[l,t>20?(0,a.jsx)(o.Z,{className:"h-4 w-4 text-green-500"}):(0,a.jsx)(u.Z,{className:"h-4 w-4 text-red-500"})]})}},{accessorKey:"clickRate",header:"Click Rate",cell:e=>{let{row:s}=e,t=s.getValue("clickRate"),l="".concat(t.toFixed(1),"%");return(0,a.jsxs)("div",{className:"flex items-center gap-x-2",children:[l,t>2.5?(0,a.jsx)(o.Z,{className:"h-4 w-4 text-green-500"}):(0,a.jsx)(u.Z,{className:"h-4 w-4 text-red-500"})]})}},{accessorKey:"source",header:"Source"},{accessorKey:"tags",header:"Tags",cell:e=>{let{row:s}=e,t=s.getValue("tags");return(0,a.jsx)("div",{className:"flex flex-wrap gap-1",children:t.map(e=>(0,a.jsx)(h.C,{variant:"outline",children:e},e))})}}];function j(){let{data:e,isLoading:s}=(0,l.useQuery)({queryKey:["analytics-subscribers"],queryFn:()=>r.h.analytics.getSubscribers()}),{data:t,isLoading:h}=(0,l.useQuery)({queryKey:["analytics-subscriber-growth-detailed"],queryFn:()=>r.h.analytics.getSubscriberGrowthDetailed()}),{data:b,isLoading:j}=(0,l.useQuery)({queryKey:["analytics-subscriber-engagement"],queryFn:()=>r.h.analytics.getSubscriberEngagement()}),{data:v,isLoading:f}=(0,l.useQuery)({queryKey:["analytics-subscriber-sources"],queryFn:()=>r.h.analytics.getSubscriberSources()});return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-medium",children:"Subscriber Analytics"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Analyze your subscriber base and engagement patterns."})]}),(0,a.jsx)(n.Z,{}),(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-4",children:[(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(i.ll,{className:"text-sm font-medium",children:"Total Subscribers"}),(0,a.jsx)(x.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(i.aY,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:null==e?void 0:e.total.toLocaleString()}),(0,a.jsxs)("div",{className:"flex items-center text-sm text-muted-foreground",children:[(0,a.jsx)(o.Z,{className:"mr-1 h-4 w-4 text-green-500"}),null==e?void 0:e.growthRate,"% from last month"]})]})]}),(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(i.ll,{className:"text-sm font-medium",children:"Active Subscribers"}),(0,a.jsx)(x.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(i.aY,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:null==e?void 0:e.active.toLocaleString()}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:[((null==e?void 0:e.active)/(null==e?void 0:e.total)*100).toFixed(1),"% of total"]})]})]}),(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(i.ll,{className:"text-sm font-medium",children:"Average Engagement"}),(0,a.jsx)(m.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(i.aY,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:null==e?void 0:e.averageEngagement.toFixed(1)}),(0,a.jsxs)("div",{className:"flex items-center text-sm text-muted-foreground",children:[(0,a.jsx)(o.Z,{className:"mr-1 h-4 w-4 text-green-500"}),null==e?void 0:e.engagementGrowth,"% from last month"]})]})]}),(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(i.ll,{className:"text-sm font-medium",children:"Churn Rate"}),(0,a.jsx)(x.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(i.aY,{children:[(0,a.jsxs)("div",{className:"text-2xl font-bold",children:[null==e?void 0:e.churnRate.toFixed(1),"%"]}),(0,a.jsxs)("div",{className:"flex items-center text-sm text-muted-foreground",children:[(0,a.jsx)(u.Z,{className:"mr-1 h-4 w-4 text-green-500"}),null==e?void 0:e.churnRateChange,"% from last month"]})]})]})]}),(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{children:[(0,a.jsx)(i.ll,{children:"Subscriber Growth"}),(0,a.jsx)(i.SZ,{children:"Track subscriber growth and churn over time."})]}),(0,a.jsx)(i.aY,{children:(0,a.jsx)(d.T,{data:(null==t?void 0:t.data)||[],categories:["new","churned","net"],index:"date",colors:["green","red","blue"],valueFormatter:e=>e.toLocaleString(),yAxisWidth:80,height:350,showLegend:!0})})]}),(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{children:[(0,a.jsx)(i.ll,{children:"Engagement Distribution"}),(0,a.jsx)(i.SZ,{children:"Distribution of subscriber engagement scores."})]}),(0,a.jsx)(i.aY,{children:(0,a.jsx)(d.v,{data:(null==b?void 0:b.data)||[],categories:["count"],index:"score",colors:["blue"],valueFormatter:e=>e.toLocaleString(),yAxisWidth:60,height:350})})]}),(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{children:[(0,a.jsx)(i.ll,{children:"Subscriber Sources"}),(0,a.jsx)(i.SZ,{children:"Distribution of subscriber acquisition sources."})]}),(0,a.jsx)(i.aY,{children:(0,a.jsx)(d.v,{data:(null==v?void 0:v.data)||[],categories:["count"],index:"source",colors:["blue"],valueFormatter:e=>e.toLocaleString(),yAxisWidth:60,height:350})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium mb-4",children:"All Subscribers"}),(0,a.jsx)(c.w,{columns:g,data:(null==e?void 0:e.items)||[],isLoading:s,searchableColumns:[{id:"email",title:"Email"}],filterableColumns:[{id:"status",title:"Status",options:[{label:"Active",value:"active"},{label:"Inactive",value:"inactive"},{label:"Bounced",value:"bounced"},{label:"Unsubscribed",value:"unsubscribed"}]},{id:"source",title:"Source",options:[{label:"Website",value:"website"},{label:"Import",value:"import"},{label:"API",value:"api"},{label:"Manual",value:"manual"}]}]})]})]})]})}}},function(e){e.O(0,[632,7842,2385,4714,2943,5148,8487,1523,1744],function(){return e(e.s=26513)}),_N_E=e.O()}]);