(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3942],{87345:function(e,s,a){Promise.resolve().then(a.bind(a,10195))},10195:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return f}});var t=a(57437),n=a(2265),i=a(99376),r=a(31946),l=a(62869),d=a(95186),c=a(28249),o=a(26815),h=a(12339);let x=e=>{let{children:s}=e;return(0,t.jsx)("div",{style:{position:"fixed",top:"20%",left:"20%",width:"60%",padding:"2rem",backgroundColor:"#fff",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.2)"},children:s})},u=e=>{let{children:s}=e;return(0,t.jsx)("div",{children:s})},m=e=>{let{children:s}=e;return(0,t.jsx)("h2",{children:s})},g=e=>{let{children:s}=e;return(0,t.jsx)("div",{children:s})},j=(0,a(39763).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var b=a(63639),p=a(98728),y=a(95805),v=a(46221);function f(e){let{params:s}=e,a=(0,i.useRouter)(),{supabase:f,user:N}=(0,r.$4)(),[k,w]=(0,n.useState)(!1),[C,P]=(0,n.useState)(!1),[A,_]=(0,n.useState)(null),[S,F]=(0,n.useState)(!1),[I,E]=(0,n.useState)(!1),[T,z]=(0,n.useState)(null);(0,n.useEffect)(()=>{M()},[s.id]);let M=async()=>{w(!0),_(null);try{let{data:e,error:t}=await f.from("projects").select("*").eq("id",s.id).single();if(t)throw t;if(e.owner_id!==(null==N?void 0:N.id)){a.push("/dashboard");return}z(e)}catch(e){_("Failed to load project settings")}finally{w(!1)}},L=(e,s,a)=>{T&&(s&&a?z(t=>({...t,[s]:{...t[s],[a]:e.target.value}})):z(s=>({...s,[e.target.name]:e.target.value})))},D=e=>{T&&z(s=>({...s,settings:{...s.settings,[e]:!s.settings[e]}}))},R=async()=>{if(T){P(!0),_(null),F(!1);try{let{error:e}=await f.from("projects").update({name:T.name,description:T.description,settings:T.settings,integrations:T.integrations,updated_at:new Date().toISOString()}).eq("id",T.id);if(e)throw e;F(!0)}catch(e){_("Failed to save project settings")}finally{P(!1)}}},U=async()=>{if(T){w(!0),_(null);try{let{error:e}=await f.from("projects").delete().eq("id",T.id);if(e)throw e;a.push("/dashboard")}catch(e){_("Failed to delete project"),w(!1)}}};return k?(0,t.jsx)("div",{className:"flex h-full items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-blue-600 border-t-transparent"}),(0,t.jsx)("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"Loading project settings..."})]})}):T?(0,t.jsxs)("div",{className:"container mx-auto max-w-3xl py-8",children:[(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold",children:"Project Settings"}),(0,t.jsx)("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Manage your project settings, integrations, and analytics"})]}),(0,t.jsxs)(l.z,{variant:"destructive",onClick:()=>E(!0),className:"flex items-center",children:[(0,t.jsx)(j,{className:"mr-2 h-4 w-4"}),"Delete Project"]})]}),A&&(0,t.jsx)("div",{className:"rounded-md bg-red-50 p-4 dark:bg-red-900/50",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(b.Z,{className:"h-5 w-5 text-red-400"}),(0,t.jsx)("p",{className:"ml-3 text-sm text-red-800 dark:text-red-200",children:A})]})}),S&&(0,t.jsx)("div",{className:"rounded-md bg-green-50 p-4 dark:bg-green-900/50",children:(0,t.jsx)("p",{className:"text-sm text-green-800 dark:text-green-200",children:"Project settings saved successfully"})}),(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(o._,{htmlFor:"name",children:"Project Name"}),(0,t.jsx)(d.I,{id:"name",name:"name",value:T.name,onChange:L,required:!0,className:"mt-1",disabled:C})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(o._,{htmlFor:"description",children:"Description"}),(0,t.jsx)(c.g,{id:"description",name:"description",value:T.description,onChange:L,className:"mt-1",disabled:C})]})]}),(0,t.jsxs)(h.mQ,{defaultValue:"settings",className:"space-y-4",children:[(0,t.jsxs)(h.dr,{children:[(0,t.jsxs)(h.SP,{value:"settings",className:"flex items-center",children:[(0,t.jsx)(p.Z,{className:"mr-2 h-4 w-4"}),"Settings"]}),(0,t.jsxs)(h.SP,{value:"integrations",className:"flex items-center",children:[(0,t.jsx)(y.Z,{className:"mr-2 h-4 w-4"}),"Integrations"]}),(0,t.jsxs)(h.SP,{value:"analytics",className:"flex items-center",children:[(0,t.jsx)(v.Z,{className:"mr-2 h-4 w-4"}),"Analytics"]})]}),(0,t.jsx)(h.nU,{value:"settings",className:"space-y-4",children:(0,t.jsxs)("div",{className:"rounded-lg border p-4 dark:border-gray-800",children:[(0,t.jsx)("h3",{className:"text-lg font-medium",children:"Project Settings"}),(0,t.jsxs)("div",{className:"mt-4 space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(o._,{htmlFor:"enableAI",children:"Enable AI Features"}),(0,t.jsx)("input",{type:"checkbox",id:"enableAI",checked:T.settings.enableAI,onChange:()=>D("enableAI"),className:"h-4 w-4 rounded border-gray-300",disabled:C})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(o._,{htmlFor:"enableAnalytics",children:"Enable Analytics"}),(0,t.jsx)("input",{type:"checkbox",id:"enableAnalytics",checked:T.settings.enableAnalytics,onChange:()=>D("enableAnalytics"),className:"h-4 w-4 rounded border-gray-300",disabled:C})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(o._,{htmlFor:"enableCollaboration",children:"Enable Collaboration"}),(0,t.jsx)("input",{type:"checkbox",id:"enableCollaboration",checked:T.settings.enableCollaboration,onChange:()=>D("enableCollaboration"),className:"h-4 w-4 rounded border-gray-300",disabled:C})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(o._,{htmlFor:"defaultLanguage",children:"Default Language"}),(0,t.jsxs)("select",{id:"defaultLanguage",value:T.settings.defaultLanguage,onChange:e=>L(e,"settings","defaultLanguage"),className:"mt-1 block w-full rounded-md border border-gray-300 bg-white px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700",disabled:C,children:[(0,t.jsx)("option",{value:"en",children:"English"}),(0,t.jsx)("option",{value:"es",children:"Spanish"}),(0,t.jsx)("option",{value:"fr",children:"French"}),(0,t.jsx)("option",{value:"de",children:"German"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(o._,{htmlFor:"timezone",children:"Timezone"}),(0,t.jsxs)("select",{id:"timezone",value:T.settings.timezone,onChange:e=>L(e,"settings","timezone"),className:"mt-1 block w-full rounded-md border border-gray-300 bg-white px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700",disabled:C,children:[(0,t.jsx)("option",{value:"UTC",children:"UTC"}),(0,t.jsx)("option",{value:"America/New_York",children:"Eastern Time"}),(0,t.jsx)("option",{value:"America/Los_Angeles",children:"Pacific Time"}),(0,t.jsx)("option",{value:"Europe/London",children:"London"}),(0,t.jsx)("option",{value:"Europe/Paris",children:"Paris"})]})]})]})]})}),(0,t.jsx)(h.nU,{value:"integrations",className:"space-y-4",children:(0,t.jsxs)("div",{className:"rounded-lg border p-4 dark:border-gray-800",children:[(0,t.jsx)("h3",{className:"text-lg font-medium",children:"Integrations"}),(0,t.jsxs)("div",{className:"mt-4 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(o._,{htmlFor:"matrixRoom",children:"Matrix Room ID"}),(0,t.jsx)(d.I,{id:"matrixRoom",value:T.integrations.matrixRoom,onChange:e=>L(e,"integrations","matrixRoom"),className:"mt-1",placeholder:"!roomid:matrix.org",disabled:C||!T.settings.enableCollaboration})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(o._,{htmlFor:"aiModel",children:"AI Model"}),(0,t.jsxs)("select",{id:"aiModel",value:T.integrations.aiModel,onChange:e=>L(e,"integrations","aiModel"),className:"mt-1 block w-full rounded-md border border-gray-300 bg-white px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700",disabled:C||!T.settings.enableAI,children:[(0,t.jsx)("option",{value:"gpt-4",children:"GPT-4"}),(0,t.jsx)("option",{value:"gpt-3.5-turbo",children:"GPT-3.5 Turbo"}),(0,t.jsx)("option",{value:"claude-3",children:"Claude 3"})]})]})]})]})}),(0,t.jsx)(h.nU,{value:"analytics",className:"space-y-4",children:(0,t.jsxs)("div",{className:"rounded-lg border p-4 dark:border-gray-800",children:[(0,t.jsx)("h3",{className:"text-lg font-medium",children:"Analytics Configuration"}),(0,t.jsx)("div",{className:"mt-4 space-y-4",children:(0,t.jsxs)("div",{children:[(0,t.jsx)(o._,{htmlFor:"analyticsProvider",children:"Analytics Provider"}),(0,t.jsxs)("select",{id:"analyticsProvider",value:T.integrations.analyticsProvider,onChange:e=>L(e,"integrations","analyticsProvider"),className:"mt-1 block w-full rounded-md border border-gray-300 bg-white px-3 py-2 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700",disabled:C||!T.settings.enableAnalytics,children:[(0,t.jsx)("option",{value:"vespa",children:"Vespa"}),(0,t.jsx)("option",{value:"elasticsearch",children:"Elasticsearch"}),(0,t.jsx)("option",{value:"clickhouse",children:"ClickHouse"})]})]})})]})})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,t.jsx)(l.z,{type:"button",variant:"outline",onClick:()=>a.back(),disabled:C,children:"Cancel"}),(0,t.jsx)(l.z,{onClick:R,disabled:C,children:C?"Saving...":"Save Changes"})]})]})]}),(0,t.jsx)(x,{open:I,onOpenChange:E,children:(0,t.jsxs)(g,{children:[(0,t.jsx)(u,{children:(0,t.jsx)(m,{children:"Delete Project"})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Are you sure you want to delete this project? This action cannot be undone."}),(0,t.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,t.jsx)(l.z,{variant:"outline",onClick:()=>E(!1),disabled:k,children:"Cancel"}),(0,t.jsx)(l.z,{variant:"destructive",onClick:U,disabled:k,children:k?"Deleting...":"Delete Project"})]})]})]})})]}):(0,t.jsx)("div",{className:"flex h-full items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:"Project not found"}),(0,t.jsx)("p",{className:"mt-2 text-sm text-gray-600 dark:text-gray-400",children:"The project you're looking for doesn't exist or you don't have access to it."})]})})}}},function(e){e.O(0,[632,7842,2385,4714,2943,5148,8487,1523,1744],function(){return e(e.s=87345)}),_N_E=e.O()}]);